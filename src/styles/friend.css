@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* 모바일 토글 버튼 */
  .friend-mobile-toggle {
    @apply fixed top-16 right-4 z-[9999] lg:hidden bg-gradient-to-br from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white p-2.5 rounded-full shadow-xl border border-white/20 backdrop-blur-sm transition-all duration-300 hover:scale-110 active:scale-95;
  }

  .friend-mobile-toggle svg {
    @apply w-5 h-5;
  }

  /* 알림 배지 */
  .friend-notification-badge {
    @apply absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full opacity-0 scale-0 transition-all duration-200;
    display: none;
    align-items: center;
    justify-content: center;
    font-weight: bold;
  }

  .friend-notification-badge.show {
    @apply opacity-100 scale-100;
    display: flex;
  }

  /* 모바일 오버레이 */
  .friend-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-[55] lg:hidden opacity-0 pointer-events-none transition-all duration-300;
  }

  .friend-overlay.show {
    @apply opacity-100 pointer-events-auto;
  }

  /* 친구 패널 */
  .friend-panel {
    @apply fixed top-0 right-0 w-80 h-full bg-gradient-to-br from-indigo-900/95 via-purple-900/95 to-pink-900/95 backdrop-blur-xl border-l border-white/20 z-[56] shadow-2xl transition-transform duration-300 lg:translate-x-0 translate-x-full max-w-[calc(100vw-2rem)] lg:max-w-none;
  }

  .friend-panel.show {
    @apply translate-x-0;
  }

  /* 친구 패널 헤더 */
  .friend-header {
    @apply p-4 border-b border-white/20 bg-white/5;
  }

  .friend-header-content {
    @apply flex items-center justify-between;
  }

  .friend-title {
    @apply text-xl font-bold text-white tracking-wide;
  }

  .friend-close-btn {
    @apply lg:hidden text-white/70 hover:text-white p-1 transition-colors;
  }

  .friend-close-btn svg {
    @apply w-6 h-6;
  }

  /* 사용자 프로필 */
  .friend-user-profile {
    @apply p-4 border-b border-white/20 bg-white/5;
  }

  .friend-user-info {
    @apply flex items-center gap-3 mb-3;
  }

  .friend-user-avatar {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-blue-500 border-2 border-white/30;
  }

  .friend-user-details {
    @apply flex-1;
  }

  .friend-user-nickname {
    @apply text-white font-semibold text-sm;
  }

  .friend-user-username {
    @apply text-white/60 text-xs;
  }

  .friend-user-status {
    @apply text-green-400 text-xs font-medium;
  }

  /* 요청 보관함 */
  .friend-requests-box {
    @apply relative mb-2;
  }

  .friend-requests-box:last-child {
    @apply mb-0;
  }

  .friend-requests-toggle {
    @apply w-full bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg px-3 py-2 flex items-center justify-between transition-all duration-200 hover:scale-[1.02];
  }

  .friend-requests-icon-text {
    @apply flex items-center gap-2;
  }

  .friend-requests-icon {
    @apply text-lg;
  }

  .friend-requests-text {
    @apply text-white text-sm font-medium;
  }

  .friend-requests-count {
    @apply bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-bold hidden;
  }

  .friend-requests-count.show {
    @apply block;
  }

  .friend-sent-requests-count {
    @apply bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full font-bold hidden;
  }

  .friend-sent-requests-count.show {
    @apply block;
  }

  /* 드롭다운 */
  .friend-dropdown {
    @apply absolute top-full left-0 right-0 mt-1 bg-white/95 backdrop-blur-xl rounded-xl shadow-2xl border border-white/30 opacity-0 -translate-y-2.5 pointer-events-none transition-all duration-300 z-50;
  }

  .friend-dropdown.show {
    @apply opacity-100 translate-y-0 pointer-events-auto;
  }

  .friend-dropdown-header {
    @apply p-3 border-b border-white/20 rounded-t-xl;
  }

  .friend-dropdown-header.requests {
    @apply bg-gradient-to-r from-indigo-500/20 to-purple-500/20;
  }

  .friend-dropdown-header.sent {
    @apply bg-gradient-to-r from-blue-500/20 to-green-500/20;
  }

  .friend-dropdown-title {
    @apply text-gray-800 font-bold text-sm;
  }

  .friend-dropdown-list {
    @apply max-h-60 overflow-y-auto;
  }

  /* 친구 추가 */
  .friend-add-section {
    @apply p-4 border-b border-white/20 bg-white/5;
  }

  .friend-add-form {
    @apply flex gap-2;
  }

  .friend-add-input {
    @apply flex-1 bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/60 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent min-w-0;
  }

  .friend-add-btn {
    @apply bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-3 py-2 rounded-lg font-bold transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-400 flex-shrink-0 min-w-[44px] flex items-center justify-center;
  }

  /* 친구 목록 스크롤 영역 */
  .friend-list-container {
    @apply flex-1 overflow-y-auto p-4 space-y-4;
  }

  .friend-list-title {
    @apply text-white/80 text-sm font-semibold mb-2 px-1;
  }

  .friend-list {
    @apply space-y-2;
  }

  /* 친구 목록 내용 */
  .friend-content {
    @apply flex-1 overflow-hidden flex flex-col;
  }

  /* 아바타 이미지 스타일 */
  .friend-avatar-with-image {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .friend-request-avatar-with-image {
    @apply w-10 h-10 rounded-full border-2 border-white/50;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* 친구 아이템 스타일 */
  .friend-item {
    @apply flex items-center p-3 bg-white/10 rounded-lg transition-all duration-200 cursor-pointer hover:bg-white/20;
  }

  .friend-item:hover .friend-item-actions {
    @apply opacity-100;
  }

  .friend-item-avatar {
    @apply w-10 h-10 rounded-full mr-3 relative border-2 border-white/30;
  }

  .friend-item-status-indicator {
    @apply absolute -bottom-0.5 -right-0.5 w-3 h-3 border-2 border-white rounded-full;
  }

  .friend-item-info {
    @apply flex-1 min-w-0;
  }

  .friend-item-name {
    @apply text-white font-semibold text-sm truncate;
  }

  .friend-item-username {
    @apply text-white/70 text-xs truncate;
  }

  .friend-item-status {
    @apply text-xs font-medium;
  }

  .friend-item-actions {
    @apply flex gap-1 opacity-0 transition-opacity duration-200;
  }

  .friend-delete-btn {
    @apply bg-white/20 hover:bg-red-500 border-0 text-white w-8 h-8 rounded-lg cursor-pointer flex items-center justify-center text-sm transition-all duration-200 hover:scale-110;
  }

  /* 요청 아이템 스타일 */
  .friend-request-item {
    @apply p-3 border-b border-white/10 flex items-center gap-3 transition-colors duration-200 hover:bg-indigo-50 last:border-b-0;
  }

  .friend-request-info {
    @apply flex-1 min-w-0;
  }

  .friend-request-name {
    @apply text-gray-800 font-bold text-sm truncate;
  }

  .friend-request-username {
    @apply text-gray-600 text-xs truncate;
  }

  .friend-request-status {
    @apply text-gray-500 text-xs;
  }

  .friend-request-actions {
    @apply flex gap-2;
  }

  .friend-request-accept-btn {
    @apply w-8 h-8 border-0 rounded-lg cursor-pointer flex items-center justify-center text-sm font-bold transition-all duration-200 bg-green-500 text-white hover:bg-green-600 hover:scale-105;
  }

  .friend-request-reject-btn {
    @apply w-8 h-8 border-0 rounded-lg cursor-pointer flex items-center justify-center text-sm font-bold transition-all duration-200 bg-red-500 text-white hover:bg-red-600 hover:scale-105;
  }

  /* 보낸 요청 스타일 */
  .friend-sent-request-item {
    @apply p-3 border-b border-white/10 flex items-center gap-3 transition-colors duration-200 hover:bg-blue-50 last:border-b-0;
  }

  .friend-sent-request-cancel-btn {
    @apply w-8 h-8 border-0 rounded-lg cursor-pointer flex items-center justify-center text-sm font-bold transition-all duration-200 bg-gray-500 text-white hover:bg-red-600 hover:scale-105;
  }

  /* 빈 상태 메시지 */
  .friend-empty-message {
    @apply p-6 text-center text-gray-500 text-sm;
  }

  /* 사용자 아바타 */
  .friend-user-avatar-with-image {
    @apply w-10 h-10 rounded-full border-2 border-white/30;
    background-size: cover;
    background-position: center;
  }

  .friend-user-avatar-default {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-blue-500 border-2 border-white/30;
  }

  /* 상태별 동적 아바타 스타일 */
  .friend-avatar-online-gradient {
    @apply bg-gradient-to-br from-green-400 to-blue-500;
  }

  .friend-avatar-offline-gradient {
    @apply bg-gradient-to-br from-gray-400 to-gray-600;
  }

  .friend-status-indicator-online {
    @apply bg-green-500;
  }

  .friend-status-indicator-offline {
    @apply bg-gray-500;
  }

  .friend-status-text-online {
    @apply text-green-400;
  }

  .friend-status-text-offline {
    @apply text-gray-400;
  }

  /* 친구 요청 기본 아바타 */
  .friend-request-avatar-default {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-teal-400 border-2 border-white/50;
  }

  .friend-sent-request-avatar-default {
    @apply w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-green-400 border-2 border-white/50;
  }

  /* 유틸리티 클래스 */
  .friend-hidden {
    display: none !important;
  }

  .friend-visible {
    display: block !important;
  }

  .friend-overflow-hidden {
    overflow: hidden !important;
  }

  /* 에러 팝업 모달 */
  .friend-error-modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300;
  }

  .friend-error-modal-overlay.show {
    @apply opacity-100 pointer-events-auto;
  }

  .friend-error-modal {
    @apply bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform scale-95 transition-transform duration-300;
  }

  .friend-error-modal-overlay.show .friend-error-modal {
    @apply scale-100;
  }

  .friend-error-modal-header {
    @apply p-4 border-b border-gray-200 bg-red-50 rounded-t-xl;
  }

  .friend-error-modal-title {
    @apply text-lg font-bold text-red-600 flex items-center gap-2;
  }

  .friend-error-modal-content {
    @apply p-4;
  }

  .friend-error-modal-message {
    @apply text-gray-700 text-sm leading-relaxed;
  }

  .friend-error-modal-footer {
    @apply p-4 border-t border-gray-200 flex justify-end gap-2 bg-gray-50 rounded-b-xl;
  }

  .friend-error-modal-button {
    @apply px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium text-sm;
  }

  /* 정보 팝업 모달 */
  .friend-info-modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300;
  }

  .friend-info-modal-overlay.show {
    @apply opacity-100 pointer-events-auto;
  }

  .friend-info-modal {
    @apply bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform scale-95 transition-transform duration-300;
  }

  .friend-info-modal-overlay.show .friend-info-modal {
    @apply scale-100;
  }

  .friend-info-modal-header {
    @apply p-4 border-b border-gray-200 bg-blue-50 rounded-t-xl;
  }

  .friend-info-modal-title {
    @apply text-lg font-bold text-blue-600 flex items-center gap-2;
  }

  .friend-info-modal-content {
    @apply p-4;
  }

  .friend-info-modal-message {
    @apply text-gray-700 text-sm leading-relaxed;
  }

  .friend-info-modal-footer {
    @apply p-4 border-t border-gray-200 flex justify-end gap-2 bg-gray-50 rounded-b-xl;
  }

  .friend-info-modal-button {
    @apply px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium text-sm;
  }
}
