<div
  class="fixed top-16 right-0 w-80 h-[calc(100vh-4rem)] bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 backdrop-blur-lg border-l border-white/10 shadow-2xl z-[999] flex flex-col overflow-hidden"
>
  <!-- 친구창 헤더 -->
  <div class="flex justify-center items-center p-4 bg-white/10 border-b border-white/10">
    <h3 class="text-white m-0 text-lg font-semibold">친구 목록</h3>
  </div>

  <!-- 사용자 프로필 -->
  <div class="p-4 bg-white/5 border-b border-white/10 flex items-center gap-3 relative">
    <div
      class="w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-teal-400 relative border-2 border-white/20 after:absolute after:-bottom-0.5 after:-right-0.5 after:w-3 after:h-3 after:bg-green-500 after:border-2 after:border-white after:rounded-full"
      id="userAvatar"
    ></div>
    <div class="flex-1">
      <div class="text-white font-semibold text-sm mb-0.5" id="userNickname">사용자</div>
      <div class="text-white/60 text-xs font-normal mb-0.5" id="userUsername">@username</div>
      <div class="text-white/70 text-xs">온라인</div>
    </div>
    <!-- 친구 요청 보관함 -->
    <div class="relative" id="friendRequestsBox">
      <button
        class="bg-white/10 border border-white/20 rounded-lg p-2 px-3 text-white cursor-pointer flex items-center gap-1.5 transition-all duration-300 hover:bg-white/15 hover:-translate-y-0.5"
        id="requestsToggle"
      >
        <span class="text-base">📮</span>
        <span
          class="bg-red-500 text-white rounded-full min-w-[18px] h-[18px] flex items-center justify-center text-xs font-semibold hidden"
          id="requestsCount"
          >0</span
        >
      </button>
      <div
        class="absolute top-full right-0 w-80 bg-white/95 backdrop-blur-lg border border-white/20 rounded-xl shadow-2xl z-[1002] opacity-0 -translate-y-2.5 pointer-events-none transition-all duration-300 mt-2"
        id="requestsDropdown"
      >
        <div
          class="p-3 px-4 bg-indigo-500/10 text-indigo-600 font-semibold text-sm border-b border-white/20 rounded-t-xl"
        >
          받은 친구 요청
        </div>
        <div class="max-h-80 overflow-y-auto" id="requestsList">
          <!-- 친구 요청들이 여기에 동적으로 추가됩니다 -->
        </div>
      </div>
    </div>
  </div>

  <!-- 친구창 내용 -->
  <div class="flex-1 overflow-y-auto p-4" id="friendContent">
    <!-- 친구 추가 -->
    <div class="mt-auto pt-4 border-t border-white/10">
      <div class="flex flex-col gap-2">
        <input
          type="text"
          placeholder="사용자명으로 친구 추가"
          class="w-full p-2 border-0 rounded-md bg-white/10 text-white text-sm placeholder:text-white/60 focus:outline-none focus:bg-white/15"
          id="addFriendInput"
        />
        <button
          class="bg-white/20 border-0 text-white w-full h-9 rounded-md cursor-pointer text-lg transition-colors duration-200 hover:bg-white/30"
          id="addFriendBtn"
        >
          +
        </button>
      </div>
    </div>

    <!-- 온라인 친구들 -->
    <div class="mb-6" id="onlineSection">
      <div class="text-white/90 text-sm font-semibold mb-2 uppercase tracking-wider" id="onlineTitle">온라인 - 0</div>
      <div class="flex flex-col gap-2" id="onlineList">
        <!-- 온라인 친구들이 여기에 동적으로 추가됩니다 -->
      </div>
    </div>

    <!-- 오프라인 친구들 -->
    <div class="mb-6" id="offlineSection">
      <div class="text-white/90 text-sm font-semibold mb-2 uppercase tracking-wider" id="offlineTitle">
        오프라인 - 1
      </div>
      <div class="flex flex-col gap-2" id="offlineList">
        <div
          class="flex items-center p-3 bg-white/10 rounded-lg transition-colors duration-200 cursor-pointer hover:bg-white/15 opacity-60"
        >
          <div
            class="w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-blue-500 mr-3 relative after:absolute after:-bottom-0.5 after:-right-0.5 after:w-3 after:h-3 after:bg-gray-500 after:border-2 after:border-white after:rounded-full"
          ></div>
          <div class="flex-1">
            <div class="text-white font-medium text-sm mb-0.5">gitkim</div>
            <div class="text-white/70 text-xs">오프라인</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
